pipeline {
    agent any

    environment {
        SF_USERNAME = satyasaidevops('SF_USERNAME')
        SF_PASSWORD = git@12345678('SF_PASSWORD')
    }

    stages {
        stage('Checkout Code') {
            steps {
                checkout([$class: 'GitSCM', branches: [[name: '*/master']], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: 'GIT_CREDENTIALS', url: 'https://github.com/your-repo/your-project.git']]])
            }
        }
        stage('Deploy to Salesforce') {
            steps {
                script {
                    withCredentials([usernamePassword(credentialsId: 'SF_CREDENTIALS', passwordVariable: 'SF_PASSWORD', usernameVariable: 'SF_USERNAME')]) {
                        sh "sfdx force:source:deploy -u ${SF_USERNAME} -p ${SF_PASSWORD} -p ./force-app"
                    }
                }
            }
        }
    }
}
